---
title: "BDR 4.2.0"
---

This is a minor release of BDR 4 which includes new features as well
as fixes for issues identified in previous versions.


| Type | Category | Description |
| ---- | -------- | ----------- |
| Feature | User Experience | ... |
| Improvement | Reliability and operability | Allow consumption of the reserved galloc sequence slot (BDR-2367, RT83437, RT68255) <p> The galloc sequence slot reserved for future use by background allocator can be consumed in the presece of consensus failure. </p>
| Bug fix | User Experience | ... |
| Bug fix | Reliability and operability | Fix spurious pglogical receiver timeouts on idle connections (RT82315) <p> When there is nothing to replication and apply the pglogical receiver may misinterpret the state as timeout and exit with error "ERROR:  08006: terminating pglogical receiver due to timeout". Correct this misinterpretation. </p>
| Bug fix | Reliability and operability | Fix "insufficient privileges" error for non-superuser trusted extensions (BDR-2350) <p> A CREATE EXTENSION command executed by a non-superuser on PostgreSQL 13+ may succeed on the BDR node where it is executed but will fail to be replicated to other nodes breaking replication. Fix this by allowing such command to be applied on non-origin nodes.</p>
| Bug fix | Reliability and operability | Avoid a race condition when reconstructing global_locks upon restart if Parallel Apply is enabled (RT83435, BDR-2383) <p> When parallel apply is enabled, multiple writers may try to recover the same global lock causing a deadlock. The BDR node where this happens will be rendered unrecoverable. Fix this by letting a single writer recover all the global locks. </p>
| Bug fix | Reliability and operability | Fix spurious segmentation faults when conflicts are logged bdr.conflict_history  (BDR-2403, RT83436, RT83928) <p>   When conflicts are logged to the catalog bdr.conflict_history, the pglogical writer process may crash because of a segmentation fault due to an invalid pointer being used. Fix this usage. </p>
| Bug fix | Reliability and operability | Cleanup replication slot when bdr_init_physical fails (BDR-2364, RT74789) <p>   If bdr_init_physical aborts without being able to join the node, it will leave behind an inactive replication slot. Remove such a replication slot when it is inactive before an irregular exit. </p>

### Upgrades

This release supports upgrading from the following versions of BDR:

-   4.0.0 and higher
-   3.7.15 and higher

Please make sure you read and understand the process and limitations described
in the [Upgrade Guide](/pgd/latest/upgrades/) before upgrading.
